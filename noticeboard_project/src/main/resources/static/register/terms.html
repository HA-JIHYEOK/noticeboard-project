<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>약관 동의</title>

    <!-- ✅ 공통 CSS -->
    <link rel="stylesheet" href="/static/common/common.css" />
    <!-- ✅ 페이지 전용 CSS -->
    <link rel="stylesheet" href="terms.css" />
</head>

<body>
<!-- ✅ 공통 HTML 주입 자리(공통만 “추가”) -->
<div id="app-banner"></div>
<div id="app-header"></div>

<!-- ✅ 여기부터는 니가 준 구조 “그대로” -->
<div class="wrap">
    <div class="title">
        <h1>회원가입 약관 동의</h1>
        <p>필수 약관 2개에 동의해야 다음 단계로 이동합니다.</p>
    </div>

    <div class="card">
        <div class="card-header">
            <div class="all-agree">
                <input type="checkbox" id="agreeAll" />
                <label for="agreeAll">전체 동의</label>
            </div>
        </div>

        <div class="card-body">

            <!-- (필수) 이용약관 -->
            <div class="item">
                <div class="item-top">
                    <div class="left">
                        <input type="checkbox" id="agree1" />
                        <label for="agree1" class="term-name">(필수) 이용약관 동의</label>
                        <span class="badge req">필수</span>
                    </div>
                </div>
                <div class="term-desc">서비스 이용을 위한 기본 약관입니다.</div>
                <div class="terms-box">
                    <b>제1조(목적)</b><br/>
                    본 약관은 서비스 이용 조건 및 절차, 회원과 회사의 권리·의무 등을 규정합니다.<br/><br/>
                    <b>제2조(정의)</b><br/>
                    “회원”이란 본 약관에 동의하고 가입한 자를 말합니다.<br/><br/>
                    <b>제3조(효력)</b><br/>
                    본 약관은 회원가입 시 동의로 효력이 발생합니다.<br/><br/>
                    (목업용 더미 약관 텍스트)
                </div>
            </div>

            <!-- (필수) 개인정보 -->
            <div class="item">
                <div class="item-top">
                    <div class="left">
                        <input type="checkbox" id="agree2" />
                        <label for="agree2" class="term-name">(필수) 개인정보 수집 및 이용 동의</label>
                        <span class="badge req">필수</span>
                    </div>
                </div>
                <div class="term-desc">회원가입 및 서비스 제공을 위해 최소한의 정보를 수집합니다.</div>
                <div class="terms-box">
                    <b>수집 항목</b>: 아이디, 비밀번호, 이메일(또는 연락처) 등<br/>
                    <b>이용 목적</b>: 회원 식별, 서비스 제공, 문의 처리<br/>
                    <b>보유 기간</b>: 회원 탈퇴 시까지(관계법령에 따라 보관 가능)<br/><br/>
                    (목업용 더미 텍스트)
                </div>
            </div>

            <!-- (선택) 마케팅 -->
            <div class="item">
                <div class="item-top">
                    <div class="left">
                        <input type="checkbox" id="agree3" />
                        <label for="agree3" class="term-name">(선택) 마케팅 정보 수신 동의</label>
                        <span class="badge opt">선택</span>
                    </div>
                </div>
                <div class="term-desc">이벤트/혜택 안내를 받을 수 있습니다(선택).</div>
            </div>

        </div>

        <div class="footer">
            <div class="hint">
                <b>*</b> 필수 약관에 동의해야 진행 가능합니다.
                <span id="msg"></span>
            </div>

            <div class="btns">
                <button type="button" class="btn" onclick="location.href='index.html'">취소</button>
                <button type="button" class="btn primary" id="nextBtn" disabled>다음 단계</button>
            </div>
        </div>
    </div>
</div>

<!-- ✅ 공통 footer 주입 자리 -->
<div id="app-footer"></div>

<!-- ✅ layout.js 확정 -->
<script src="/static/common/layout.js"></script>

<!-- ✅ 니 JS 그대로 -->
<script>
    (function(){
      const agreeAll = document.getElementById('agreeAll');
      const a1 = document.getElementById('agree1');
      const a2 = document.getElementById('agree2');
      const a3 = document.getElementById('agree3');
      const nextBtn = document.getElementById('nextBtn');
      const msg = document.getElementById('msg');

      function setNextEnabled(){
        const ok = a1.checked && a2.checked;
        nextBtn.disabled = !ok;
        msg.textContent = ok ? '' : '필수 항목 2개를 체크해주세요.';
        msg.style.color = ok ? '' : '#ef4444';
      }

      function syncAll(){
        agreeAll.checked = a1.checked && a2.checked && a3.checked;
      }

      agreeAll.addEventListener('change', () => {
        const v = agreeAll.checked;
        a1.checked = v; a2.checked = v; a3.checked = v;
        setNextEnabled();
      });

      [a1,a2,a3].forEach(chk => {
        chk.addEventListener('change', () => {
          syncAll();
          setNextEnabled();
        });
      });

      nextBtn.addEventListener('click', () => {
        if(!(a1.checked && a2.checked)){
          alert('필수 약관에 동의해야 다음 단계로 이동할 수 있습니다.');
          return;
        }
        location.href = 'register.html';
      });

      setNextEnabled();
    })();
</script>
</body>
</html>
